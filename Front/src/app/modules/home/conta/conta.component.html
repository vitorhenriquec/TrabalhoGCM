<div nz-row nzType="flex" nzJustify="center">
  <div nz-col nzLg="8" nzMd="8" nzXs="24">
    <button nz-button nzType="primary" (click)="abrirForm()">Nova Conta</button>
  </div>
</div>
<nz-table #contasTable [nzData]="dados">
  <thead>
  <tr>
    <th>Nome do Dono</th>
    <th>Tipo da Conta</th>
    <th>Saldo</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let conta of contasTable.data">
    <td>{{conta.pessoa.nome}}</td>
    <td>{{conta.tipoConta | tipoConta}}</td>
    <td>{{conta.saldo | currency: "BRL"}}</td>
    <td>
      <nz-button-group>
        <button nz-button nzType="default" (click)="abrirDebitoForm(conta)" nz-tooltip="Débito"><i nz-icon nzType="edit"></i></button>
        <button nz-button nzType="default" (click)="abrirCreditoForm(conta)" nz-tooltip="Crédito"><i nz-icon nzType="edit"></i></button>
        <button nz-button nzType="default" (click)="abrirTransferenciaForm(conta)" nz-tooltip="Transferência"><i nz-icon nzType="edit"></i></button>
        <button nz-button nzType="primary" (click)="abrirForm(conta)" nz-tooltip="Editar"><i nz-icon nzType="edit"></i></button>
        <button nz-button nzType="danger" nz-popconfirm="Deseja realmente deletar?" (nzOnConfirm)="deletar(conta.id)"><i nz-icon nzType="close"></i></button>
      </nz-button-group>
    </td>
  </tr>
  </tbody>
</nz-table>

<app-conta-form
  [abrirForm]="abrirForm$.asObservable()"
  (emitEvent)="buscarContas()"
></app-conta-form>

<app-transferencia-form
  [abrirForm]="abrirTransferenciaForm$.asObservable()"
  (emitEvent)="buscarContas()">
</app-transferencia-form>

<app-credito-form
  [abrirForm]="abrirCreditoForm$.asObservable()"
  (emitEvent)="buscarContas()">
</app-credito-form>

<app-debito-form
  [abrirForm]="abrirDebitoForm$.asObservable()"
  (emitEvent)="buscarContas()">
</app-debito-form>